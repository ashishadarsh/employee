<!-- dashboard.component.html -->
<div class="dashboard-container">
  <!-- KPI row -->
  <section class="kpi-grid" role="region" aria-label="Key performance indicators">
    <article class="kpi-card total">
      <div class="kpi-left">
        <div class="kpi-title">Total Tasks</div>
        <div class="kpi-value" title="Total tasks">{{ totalTasks }}</div>
        <div class="kpi-meta">All tasks across projects</div>
      </div>
      <div class="kpi-icon" aria-hidden="true">
        <i class="pi pi-database" style="font-size: 1.5rem"></i>
      </div>
    </article>

    <article class="kpi-card todo">
      <div class="kpi-left">
        <div class="kpi-title">To Do</div>
        <div class="kpi-value" [title]="'To Do tasks'">{{ toDoTasks }}</div>
        <div class="kpi-meta">Pending work</div>
      </div>
      <div class="kpi-icon" aria-hidden="true">
        <i class="pi pi-play" style="font-size: 1.5rem"></i>
      </div>
    </article>

    <article class="kpi-card analyse">
      <div class="kpi-left">
        <div class="kpi-title">Analyse</div>
        <div class="kpi-value" title="Tasks in analyse">{{ analyseTasks }}</div>
        <div class="kpi-meta">Investigations</div>
      </div>
      <div class="kpi-icon" aria-hidden="true">
        <i class="pi pi-lightbulb" style="font-size: 1.5rem"></i>
      </div>
    </article>

    <article class="kpi-card development">
      <div class="kpi-left">
        <div class="kpi-title">Development</div>
        <div class="kpi-value" title="Development tasks">{{ developmentTasks }}</div>
        <div class="kpi-meta">In progress</div>
      </div>
      <div class="kpi-icon" aria-hidden="true">
        <i class="pi pi-code" style="font-size: 1.5rem"></i>
      </div>
    </article>

    <article class="kpi-card qa">
      <div class="kpi-left">
        <div class="kpi-title">QA</div>
        <div class="kpi-value" title="Quality assurance tasks">{{ qaTasks }}</div>
        <div class="kpi-meta">Testing</div>
      </div>
      <div class="kpi-icon" aria-hidden="true">
        <svg width="34" height="34" viewBox="0 0 24 24" fill="none" class="icon">
          <rect x="3" y="3" width="18" height="18" rx="3" stroke="currentColor" stroke-width="1.2"/>
          <path d="M8 12l2.5 2L16 9" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </div>
    </article>

    <article class="kpi-card done">
      <div class="kpi-left">
        <div class="kpi-title">Done</div>
        <div class="kpi-value" title="Completed tasks">{{ completedTasks }}</div>
        <div class="kpi-meta">Finished work</div>
      </div>
      <div class="kpi-icon" aria-hidden="true">
        <svg width="34" height="34" viewBox="0 0 24 24" fill="none" class="icon">
          <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="1.2"/>
          <path d="M8 12.5l2 2 5-6" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </div>
    </article>
  </section>

  <!-- Charts grid -->
  <main class="charts-grid" role="main" aria-label="Charts grid">
    <!-- Status Pie -->
    <section class="chart-card">
      <header class="chart-head"><h3>{{ statusPieOptions.title.text }}</h3></header>
      <div class="chart-body">
        <apx-chart
          [series]="statusPieOptions.series"
          [chart]="statusPieOptions.chart"
          [labels]="statusPieOptions.labels"
          [responsive]="statusPieOptions.responsive">
        </apx-chart>
      </div>
    </section>

    <!-- Status Donut -->
    <section class="chart-card">
      <header class="chart-head"><h3>{{ statusDonutOptions.title.text }}</h3></header>
      <div class="chart-body">
        <apx-chart
          [series]="statusDonutOptions.series"
          [chart]="statusDonutOptions.chart"
          [labels]="statusDonutOptions.labels"
          [responsive]="statusDonutOptions.responsive">
        </apx-chart>
      </div>
    </section>

    <!-- Status Radial -->
    <section class="chart-card">
      <header class="chart-head"><h3>{{ statusRadialOptions.title.text }}</h3></header>
      <div class="chart-body">
        <apx-chart
          [series]="statusRadialOptions.series"
          [chart]="statusRadialOptions.chart"
          [plotOptions]="statusRadialOptions.plotOptions"
          [labels]="statusRadialOptions.labels">
        </apx-chart>
      </div>
    </section>

    <!-- Area stacked -->
    <!-- <section class="chart-card wide">
      <header class="chart-head"><h3>{{ statusAreaStackOptions.title.text }}</h3></header>
      <div class="chart-body">
        <apx-chart
          [series]="statusAreaStackOptions.series"
          [chart]="statusAreaStackOptions.chart"
          [xaxis]="statusAreaStackOptions.xaxis"
          [stroke]="statusAreaStackOptions.stroke"
          [tooltip]="statusAreaStackOptions.tooltip">
        </apx-chart>
      </div>
    </section> -->

    <!-- Aggregate line -->
    <!-- <section class="chart-card wide">
      <header class="chart-head"><h3>{{ statusLineAggregateOptions.title.text }}</h3></header>
      <div class="chart-body">
        <apx-chart
          [series]="statusLineAggregateOptions.series"
          [chart]="statusLineAggregateOptions.chart"
          [xaxis]="statusLineAggregateOptions.xaxis"
          [stroke]="statusLineAggregateOptions.stroke">
        </apx-chart>
      </div>
    </section> -->

    <!-- Per-task timeline (full width) -->
    <section class="chart-card full">
      <header class="chart-head">
        <h3>{{ statusLinePerTaskOptions.title.text }}</h3>
        <div class="small-muted">Y-axis shows status labels (To Do â†’ Done)</div>
      </header>
      <div class="chart-body">
        <apx-chart
          [series]="statusLinePerTaskOptions.series"
          [chart]="statusLinePerTaskOptions.chart"
          [xaxis]="statusLinePerTaskOptions.xaxis"
          [yaxis]="statusLinePerTaskOptions.yaxis"
          [stroke]="statusLinePerTaskOptions.stroke"
          [tooltip]="statusLinePerTaskOptions.tooltip"
          [legend]="statusLinePerTaskOptions.legend">
        </apx-chart>
      </div>
      <div class="timeline-legend">
        <span *ngFor="let s of ['To Do','Analyse','Development','QA','Done']; let i = index">{{ i + 1 }} = {{ s }}</span>
      </div>
    </section>

    <!-- Remaining charts -->
    <section class="chart-card">
      <header class="chart-head"><h3>{{ statusBarOptions.title.text }}</h3></header>
      <div class="chart-body">
        <apx-chart
          [series]="statusBarOptions.series"
          [chart]="statusBarOptions.chart"
          [xaxis]="statusBarOptions.xaxis">
        </apx-chart>
      </div>
    </section>

    <section class="chart-card">
      <header class="chart-head"><h3>{{ statusStackedBarOptions.title.text }}</h3></header>
      <div class="chart-body">
        <apx-chart
          [series]="statusStackedBarOptions.series"
          [chart]="statusStackedBarOptions.chart"
          [xaxis]="statusStackedBarOptions.xaxis"
          [plotOptions]="statusStackedBarOptions.plotOptions">
        </apx-chart>
      </div>
    </section>

    <section class="chart-card">
      <header class="chart-head"><h3>{{ statusRadarOptions.title.text }}</h3></header>
      <div class="chart-body">
        <apx-chart
          [series]="statusRadarOptions.series"
          [chart]="statusRadarOptions.chart"
          [labels]="statusRadarOptions.labels">
        </apx-chart>
      </div>
    </section>

    <!-- Types charts -->
    <section class="chart-card">
      <header class="chart-head"><h3>{{ typePieOptions.title.text }}</h3></header>
      <div class="chart-body">
        <apx-chart
          [series]="typePieOptions.series"
          [chart]="typePieOptions.chart"
          [labels]="typePieOptions.labels"
          [responsive]="typePieOptions.responsive">
        </apx-chart>
      </div>
    </section>

    <section class="chart-card">
      <header class="chart-head"><h3>{{ typeDonutOptions.title.text }}</h3></header>
      <div class="chart-body">
        <apx-chart
          [series]="typeDonutOptions.series"
          [chart]="typeDonutOptions.chart"
          [labels]="typeDonutOptions.labels"
          [responsive]="typeDonutOptions.responsive">
        </apx-chart>
      </div>
    </section>

    <section class="chart-card">
      <header class="chart-head"><h3>{{ typeBarOptions.title.text }}</h3></header>
      <div class="chart-body">
        <apx-chart
          [series]="typeBarOptions.series"
          [chart]="typeBarOptions.chart"
          [xaxis]="typeBarOptions.xaxis">
        </apx-chart>
      </div>
    </section>

    <section class="chart-card">
      <header class="chart-head"><h3>{{ typePolarOptions.title.text }}</h3></header>
      <div class="chart-body">
        <apx-chart
          [series]="typePolarOptions.series"
          [chart]="typePolarOptions.chart"
          [labels]="typePolarOptions.labels">
        </apx-chart>
      </div>
    </section>

    <section class="chart-card">
      <header class="chart-head"><h3>{{ typeRadialOptions.title.text }}</h3></header>
      <div class="chart-body">
        <apx-chart
          [series]="typeRadialOptions.series"
          [chart]="typeRadialOptions.chart"
          [plotOptions]="typeRadialOptions.plotOptions"
          [labels]="typeRadialOptions.labels">
        </apx-chart>
      </div>
    </section>
  </main>
</div>
